
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://apigee.github.io/apigee-go-gen/mock/mock-openapi-description/">
      
      
        <link rel="prev" href="../../installation/">
      
      
        <link rel="next" href="../commands/mock-oas/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.21">
    
    
      
        <title>Mock OpenAPI Description - Apigee Go Gen</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.2a3383ac.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
<meta name="google-site-verification" content="ICpzbiLv5ezn0VKu3azxy4LI3mimK5Q0w0MfmKry34Q" />
  

  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#mock-openapi-description" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Apigee Go Gen" class="md-header__button md-logo" aria-label="Apigee Go Gen" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Apigee Go Gen
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Mock OpenAPI Description
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/apigee/apigee-go-gen" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Apigee Go Gen" class="md-nav__button md-logo" aria-label="Apigee Go Gen" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Apigee Go Gen
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/apigee/apigee-go-gen" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Apigee Go Gen
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Mock
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Mock
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Mock OpenAPI Description
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Mock OpenAPI Description
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    <span class="md-ellipsis">
      Examples
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-bundle-zip" class="md-nav__link">
    <span class="md-ellipsis">
      Create bundle zip
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-bundle-dir" class="md-nav__link">
    <span class="md-ellipsis">
      Create bundle dir
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mock-api-proxy-features" class="md-nav__link">
    <span class="md-ellipsis">
      Mock API Proxy Features
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Mock API Proxy Features">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#base-path-from-oas-description" class="md-nav__link">
    <span class="md-ellipsis">
      Base Path from OAS Description
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cors-support" class="md-nav__link">
    <span class="md-ellipsis">
      CORS Support
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#request-validation" class="md-nav__link">
    <span class="md-ellipsis">
      Request Validation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dynamic-response-status-code" class="md-nav__link">
    <span class="md-ellipsis">
      Dynamic Response Status Code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dynamic-response-content-type" class="md-nav__link">
    <span class="md-ellipsis">
      Dynamic Response Content-Type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dynamic-response-body" class="md-nav__link">
    <span class="md-ellipsis">
      Dynamic Response Body
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#repeatable-api-responses" class="md-nav__link">
    <span class="md-ellipsis">
      Repeatable API Responses
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-generation-from-json-schemas" class="md-nav__link">
    <span class="md-ellipsis">
      Example Generation from JSON Schemas
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#enriching-your-openapi-description-with-examples" class="md-nav__link">
    <span class="md-ellipsis">
      Enriching your OpenAPI Description with Examples
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Commands
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Commands
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../commands/mock-oas/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Mock OAS
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../render/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Render
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Render
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../render/mcp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MCP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../render/using-built-in-helpers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Using Built-in Helpers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../render/using-custom-helpers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Using Custom Helpers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../render/using-graphql-schema/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Using GraphQL Schema
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../render/using-grpc-proto/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Using gRPC Proto
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../render/using-openapi-description/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Using OpenAPI Description
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_8" >
        
          
          <label class="md-nav__link" for="__nav_4_8" id="__nav_4_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Commands
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_8">
            <span class="md-nav__icon md-icon"></span>
            Commands
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../render/commands/render-apiproxy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Render API Proxy
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../render/commands/render-sharedflow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Render Shared Flow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../render/commands/render-template/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Render Template
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../transform/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Transform
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Transform
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Commands
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            Commands
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../transform/commands/apiproxy-to-yaml/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API Proxy to YAML
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../transform/commands/json-to-yaml/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    JSON to YAML
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../transform/commands/oas-overlay/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    OAS Overlay
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../transform/commands/oas2-to-oas3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    OpenAPI 2 to OpenAPI 3
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../transform/commands/resolve-refs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Resolve Refs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../transform/commands/sharedflow-to-yaml/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Shared Flow to YAML
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../transform/commands/xml-to-yaml/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    XML to YAML
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../transform/commands/yaml-to-apiproxy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    YAML to API Proxy
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../transform/commands/yaml-to-json/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    YAML to JSON
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../transform/commands/yaml-to-sharedflow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    YAML to Shared Flow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../transform/commands/yaml-to-xml/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    YAML to XML
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    <span class="md-ellipsis">
      Examples
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-bundle-zip" class="md-nav__link">
    <span class="md-ellipsis">
      Create bundle zip
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-bundle-dir" class="md-nav__link">
    <span class="md-ellipsis">
      Create bundle dir
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mock-api-proxy-features" class="md-nav__link">
    <span class="md-ellipsis">
      Mock API Proxy Features
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Mock API Proxy Features">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#base-path-from-oas-description" class="md-nav__link">
    <span class="md-ellipsis">
      Base Path from OAS Description
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cors-support" class="md-nav__link">
    <span class="md-ellipsis">
      CORS Support
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#request-validation" class="md-nav__link">
    <span class="md-ellipsis">
      Request Validation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dynamic-response-status-code" class="md-nav__link">
    <span class="md-ellipsis">
      Dynamic Response Status Code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dynamic-response-content-type" class="md-nav__link">
    <span class="md-ellipsis">
      Dynamic Response Content-Type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dynamic-response-body" class="md-nav__link">
    <span class="md-ellipsis">
      Dynamic Response Body
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#repeatable-api-responses" class="md-nav__link">
    <span class="md-ellipsis">
      Repeatable API Responses
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-generation-from-json-schemas" class="md-nav__link">
    <span class="md-ellipsis">
      Example Generation from JSON Schemas
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#enriching-your-openapi-description-with-examples" class="md-nav__link">
    <span class="md-ellipsis">
      Enriching your OpenAPI Description with Examples
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/apigee/apigee-go-gen/edit/main/docs/mock/mock-openapi-description.md" title="Edit this page" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75z"/></svg>
    </a>
  
  


<h1 id="mock-openapi-description">Mock OpenAPI Description</h1>
<!--
  Copyright 2024 Google LLC

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<p>You can use the <a href="../commands/mock-oas/">mock oas</a> command to create a mock API proxy from your OpenAPI 3 Description, allowing you to simulate API behavior without a real backend. </p>
<h2 id="examples">Examples</h2>
<p>Below are a couple example of how to use the <a href="../commands/mock-oas/">mock oas</a> command</p>
<h4 id="create-bundle-zip">Create bundle zip</h4>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>apigee-go-gen<span class="w"> </span>mock<span class="w"> </span>oas<span class="w"> </span><span class="se">\</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="w">    </span>--input<span class="w"> </span>./examples/specs/oas3/petstore.yaml<span class="w"> </span><span class="se">\</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="w">    </span>--output<span class="w"> </span>./out/mock-apiproxies/petstore.zip
</span></code></pre></div>
<h4 id="create-bundle-dir">Create bundle dir</h4>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>apigee-go-gen<span class="w"> </span>mock<span class="w"> </span>oas<span class="w"> </span><span class="se">\</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="w">    </span>--input<span class="w"> </span>./examples/specs/oas3/petstore.yaml<span class="w"> </span><span class="se">\</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="w">    </span>--output<span class="w"> </span>./out/mock-apiproxies/petstore
</span></code></pre></div>
<h2 id="mock-api-proxy-features">Mock API Proxy Features</h2>
<p>The generated mock API proxy supports the following features.</p>
<h3 id="base-path-from-oas-description"><img alt="✅" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2705.svg" title=":white_check_mark:" /> Base Path from OAS Description</h3>
<p>The <code>Base Path</code> for the mock API proxy is derived from the first element of the <a href="https://github.com/OAI/OpenAPI-Specification/blob/main/versions/3.1.1.md#oas-servers">servers</a> array in your OpenAPI Description.</p>
<p>For example, if your server array looks like this:</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="nt">servers</span><span class="p">:</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://petstore.swagger.io/v3</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://petstore.swagger.io/staging/v3</span>
</span></code></pre></div>
<p>The mock API proxy <code>Base Path</code> will be <code>/v3</code></p>
<h3 id="cors-support"><img alt="✅" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2705.svg" title=":white_check_mark:" /> CORS Support</h3>
<p>The generated mock API proxy includes the Apigee CORS policy, making it easy to test your API from various browser-based clients.</p>
<p>Here's how it works:</p>
<ul>
<li>
<p><strong>Automatic CORS Headers:</strong> The proxy automatically adds the necessary CORS headers (like <code>Access-Control-Allow-Origin</code>, <code>Access-Control-Allow-Methods</code>, etc.) to all responses.</p>
</li>
<li>
<p><strong>Preflight Requests:</strong> The proxy correctly handles preflight <code>OPTIONS</code> requests, responding with the appropriate CORS headers to indicate allowed origins, methods, and headers.</p>
</li>
<li>
<p><strong>Permissive Configuration:</strong> By default, the CORS policy is configured to be as permissive as possible, allowing requests from any origin with any HTTP method and headers. This maximizes flexibility for your testing.</p>
</li>
</ul>
<p>This built-in CORS support ensures that your mock API behaves like a real API in a browser environment, simplifying your development and testing workflow.</p>
<h3 id="request-validation"><img alt="✅" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2705.svg" title=":white_check_mark:" /> Request Validation</h3>
<p>By default, the mock API proxy validates the incoming requests against your description.
This ensures that the HTTP headers, query parameters, and request body all conform to the defined rules.</p>
<p>This helps you catch errors in your client code early on.</p>
<p>You can disable request validation by passing the header:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>Mock-Validate-Request: false
</span></code></pre></div>
<h3 id="dynamic-response-status-code"><img alt="✅" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2705.svg" title=":white_check_mark:" /> Dynamic Response Status Code</h3>
<p>The mock API proxy automatically generates different status codes for your mock API responses. Here's how it works:</p>
<ul>
<li><strong>Prioritizes success:</strong> If the <a href="https://github.com/OAI/OpenAPI-Specification/blob/main/versions/3.1.1.md#operation-object">operation</a> allows <code>HTTP 200</code> status code, the proxy will use it.</li>
<li><strong>Random selection:</strong> If <code>HTTP 200</code> is not allowed for a particular operation, the proxy will pick a random status code from those allowed.</li>
</ul>
<p><strong>Want more control?</strong> You can use headers to select response the status code:</p>
<ul>
<li><strong>Specific status code:</strong> Use the <code>Mock-Status</code> header in your request and set it to the desired code (e.g., <code>Mock-Status: 404</code>).</li>
<li><strong>Random status code:</strong> Use the <code>Mock-Fuzz: true</code> header to get a random status code from your description.</li>
</ul>
<p>If you use both <code>Mock-Status</code> and <code>Mock-Fuzz</code>, <code>Mock-Status</code> takes precedence.</p>
<h3 id="dynamic-response-content-type"><img alt="✅" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2705.svg" title=":white_check_mark:" /> Dynamic Response Content-Type</h3>
<p>The mock API proxy automatically selects the <code>Content-Type</code> for responses:</p>
<ul>
<li><strong>JSON preferred:</strong> If the operation allows <code>application/json</code>, the proxy will default to using it.</li>
<li><strong>Random selection:</strong>  If <code>application/json</code> is not available, the proxy will randomly choose from the media types available for that operation.</li>
</ul>
<p><strong>Want more control?</strong> You can use headers to select the response Content-Type:</p>
<ul>
<li><strong>Standard <code>Accept</code> header:</strong> You can use the standard <code>Accept</code> header in your request to request a specific media type (e.g., <code>Accept: application/xml</code>).</li>
<li><strong>Random media type:</strong>  Alternatively, use the <code>Mock-Fuzz: true</code> header to have the proxy select a random media type the available ones.</li>
</ul>
<p>If you use both <code>Accept</code> and <code>Mock-Fuzz</code>, the <code>Accept</code> header will take precedence.</p>
<h3 id="dynamic-response-body"><img alt="✅" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2705.svg" title=":white_check_mark:" /> Dynamic Response Body</h3>
<p>The mock API proxy can generate realistic response bodies based on your OpenAPI Description.</p>
<p>Here's how it determines what to send back for any particular operation's response (in order):</p>
<ol>
<li>
<p><strong>Prioritizes <code>example</code> field:</strong> If the response includes an <code>example</code> field, the proxy will use that example.</p>
</li>
<li>
<p><strong>Handles multiple <code>examples</code>:</strong> If the response has an <code>examples</code> field with multiple examples, the proxy will randomly select one.  You can use the <code>Mock-Example</code> header to specify which example you want (e.g., <code>Mock-Example: my-example</code>).</p>
</li>
<li>
<p><strong>Uses schema examples:</strong> If no response examples are provided, but the schema for the response has an <code>example</code>, the proxy will use that.</p>
</li>
<li>
<p><strong>Generates from schema:</strong>  As a last resort, the proxy will generate a random example based on the response schema. This works for JSON, YAML, and XML.</p>
</li>
</ol>
<p>You can use the <code>Mock-Fuzz: true</code> header to force the proxy to always generate a random example from the schema, even if other static examples are available.</p>
<h3 id="repeatable-api-responses"><img alt="✅" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2705.svg" title=":white_check_mark:" /> Repeatable API Responses</h3>
<p>The mock API proxy uses a special technique to make its responses seem random, while still allowing you to get the same response again if needed. Here's how it works:</p>
<ul>
<li>
<p><strong>Pseudo-random numbers:</strong> The "random" choices the proxy makes (like status codes and content) are actually generated using a pseudo-random number generator (PRNG). This means the responses look random, but are determined by a starting value called a "seed."</p>
</li>
<li>
<p><strong>Unique seeds:</strong>  Each request uses a different seed, so responses vary. However, the seed is provided in a special response header called <code>Mock-Seed</code>.</p>
</li>
<li>
<p><strong>Getting the same response:</strong> To get an identical response, simply include the <code>Mock-Seed</code> header in a new request, using the value from a previous response. This forces the proxy to use the same seed and generate the same "random" choices, resulting in an identical response.</p>
</li>
</ul>
<p>This feature is super helpful for:</p>
<ul>
<li><strong>Testing:</strong>  Ensuring your tests always get the same response.</li>
<li><strong>Debugging:</strong> Easily recreating specific scenarios to pinpoint issues in application code.</li>
</ul>
<p>Essentially, by using the <code>Mock-Seed</code> header, you can control the randomness of the mock API responses, making them repeatable for testing and debugging.</p>
<h3 id="example-generation-from-json-schemas"><img alt="✅" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2705.svg" title=":white_check_mark:" /> Example Generation from JSON Schemas</h3>
<p>The following fields are supported when generating examples from a JSON schema:</p>
<ul>
<li><code>$ref</code> - local references are followed</li>
<li><code>$oneOf</code> - chooses a random schema</li>
<li><code>$anyOf</code> - chooses a random schema</li>
<li><code>$allOf</code> - combines all schemas</li>
<li><code>object</code> type<ul>
<li><code>required</code> field - all required properties are chosen</li>
<li><code>properties</code> field - a random set of properties is chosen</li>
<li><code>additionalProperties</code> field - only used when there are no <code>properties</code> defined</li>
</ul>
</li>
<li><code>array</code> type<ul>
<li><code>minItems</code>, <code>maxItems</code> fields - array length chosen randomly between these values</li>
<li><code>items</code> field  - determines the type of array elements</li>
<li><code>prefixItems</code> (not supported yet)</li>
</ul>
</li>
<li><code>null</code> type</li>
<li><code>const</code> type</li>
<li><code>boolean</code> type - true or false randomly chosen</li>
<li><code>string</code> type<ul>
<li><code>enum</code> field - a random value is chosen from the list</li>
<li><code>pattern</code> field (not supported yet)</li>
<li><code>format</code> field<ul>
<li><code>date-time</code> format</li>
<li><code>date</code> format</li>
<li><code>time</code> format</li>
<li><code>email</code> format</li>
<li><code>uuid</code> format</li>
<li><code>uri</code> format</li>
<li><code>hostname</code> format</li>
<li><code>ipv4</code> format</li>
<li><code>ipv6</code> format</li>
<li><code>duration</code> format</li>
</ul>
</li>
<li><code>minLength</code>, <code>maxLength</code> fields - string length chosen randomly between these values</li>
</ul>
</li>
<li><code>integer</code> type<ul>
<li><code>minimum</code>, <code>maximum</code> fields - a random integer value chosen randomly between these values</li>
<li><code>exclusiveMinimum</code> field (boolean, JSON-Schema 4, number, JSON Schema 7 or greater)</li>
<li><code>exclusiveMaximum</code> field  (boolean, JSON-Schema 4, number, JSON Schema 7 or greater)</li>
<li><code>multipleOf</code> field</li>
</ul>
</li>
<li><code>number</code> type<ul>
<li><code>minimum</code>, <code>maximum</code> fields - a random float value chosen randomly between these values</li>
<li><code>exclusiveMinimum</code> field (boolean, JSON-Schema 4, number, JSON Schema 7 or greater)</li>
<li><code>exclusiveMaximum</code> field  (boolean, JSON-Schema 4, number, JSON Schema 7 or greater)</li>
<li><code>multipleOf</code> field</li>
</ul>
</li>
</ul>
<p>Markdown</p>
<h2 id="enriching-your-openapi-description-with-examples">Enriching your OpenAPI Description with Examples</h2>
<p>Sometimes, your OpenAPI Description might be missing response examples or schemas. In other cases, the examples might be very large and difficult to include directly in the description. Overlays provide a solution for these situations.</p>
<p><strong>What is an Overlay?</strong></p>
<p>An Overlay is a separate file that allows you to add or modify information in your existing OpenAPI Description. This is useful for adding examples, schemas, or any other data that you want to keep separate from your main description file. To learn more about how Overlays work, you can refer to the <a href="https://spec.openapis.org/overlay/latest.html">Overlay Specification</a>.</p>
<p><strong>How to use an Overlay</strong></p>
<p>Here's how you can use an Overlay to add a static example to an API operation:</p>
<ol>
<li>
<p><strong>Create an Overlay file:</strong> This file defines the changes you want to make to your OpenAPI Description. Here's an example that adds a sample response for the <code>/pet/findByStatus</code> operation:</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="nt">overlay</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1.0.0</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="nt">info</span><span class="p">:</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="w">  </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Add example response JSON for GET /get/findByStatus</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="w">  </span><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1.0.0</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="nt">actions</span><span class="p">:</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">target</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$.paths./pet/findByStatus.get.responses.200</span>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="w">    </span><span class="nt">update</span><span class="p">:</span>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="w">      </span><span class="nt">content</span><span class="p">:</span>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="w">        </span><span class="s">&#39;application/json&#39;</span><span class="p p-Indicator">:</span>
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a><span class="w">          </span><span class="nt">examples</span><span class="p">:</span>
</span><span id="__span-4-11"><a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a><span class="w">            </span><span class="nt">findByStatus</span><span class="p">:</span>
</span><span id="__span-4-12"><a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a><span class="w">              </span><span class="nt">value</span><span class="p">:</span>
</span><span id="__span-4-13"><a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a><span class="w">                </span><span class="p p-Indicator">{</span>
</span><span id="__span-4-14"><a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a><span class="w">                  </span><span class="s">&quot;id&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="nv">1</span><span class="p p-Indicator">,</span>
</span><span id="__span-4-15"><a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a><span class="w">                  </span><span class="s">&quot;photoUrls&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="p p-Indicator">[],</span>
</span><span id="__span-4-16"><a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a><span class="w">                  </span><span class="s">&quot;name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;Rin</span><span class="nv"> </span><span class="s">Tin</span><span class="nv"> </span><span class="s">Tin&quot;</span><span class="p p-Indicator">,</span>
</span><span id="__span-4-17"><a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a><span class="w">                  </span><span class="s">&quot;category&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="p p-Indicator">{</span>
</span><span id="__span-4-18"><a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a><span class="w">                    </span><span class="s">&quot;id&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="nv">1</span><span class="p p-Indicator">,</span>
</span><span id="__span-4-19"><a id="__codelineno-4-19" name="__codelineno-4-19" href="#__codelineno-4-19"></a><span class="w">                    </span><span class="s">&quot;name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;Dog&quot;</span>
</span><span id="__span-4-20"><a id="__codelineno-4-20" name="__codelineno-4-20" href="#__codelineno-4-20"></a><span class="w">                  </span><span class="p p-Indicator">}</span>
</span><span id="__span-4-21"><a id="__codelineno-4-21" name="__codelineno-4-21" href="#__codelineno-4-21"></a><span class="w">                </span><span class="p p-Indicator">}</span>
</span></code></pre></div>
</li>
<li>
<p><strong>Apply the Overlay to your OpenAPI Description:</strong> Use the <code>apigee-go-gen</code> tool to combine your Overlay file with your OpenAPI Description:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>apigee-go-gen<span class="w"> </span>transform<span class="w"> </span>oas-overlay<span class="w"> </span><span class="se">\</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="w">  </span>--spec<span class="w"> </span>./examples/specs/oas3/petstore.yaml<span class="w"> </span><span class="se">\</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="w">  </span>--overlay<span class="w"> </span>./examples/overlays/petstore-dog-example.yaml<span class="w"> </span><span class="se">\</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="w">  </span>--output<span class="w"> </span>./out/specs/petstore-overlaid.yaml
</span></code></pre></div>
</li>
<li>
<p><strong>Generate a mock API proxy:</strong> You can now use the updated OpenAPI Description to generate a mock API proxy in Apigee:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>apigee-go-gen<span class="w"> </span>mock<span class="w"> </span>oas<span class="w"> </span><span class="se">\</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="w">    </span>--input<span class="w"> </span>./out/specs/petstore-overlaid.yaml<span class="w"> </span><span class="se">\</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="w">    </span>--output<span class="w"> </span>./out/mock-apiproxies/petstore.zip
</span></code></pre></div>
</li>
</ol>
<p>This process allows you to manage your OpenAPI Description more effectively by keeping your examples and other supplementary data in separate files.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.annotate", "toc.follow", "content.code.copy", "content.code.select", "navigation.indexes", "navigation.path", "navigation.tracking", "search.share", "search.highlight", "content.action.edit"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>